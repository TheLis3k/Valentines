const questionScreen = document.getElementById("questionScreen"), successScreen = document.getElementById("successScreen"), yesBtn = document.getElementById("yesBtn"), noBtn = document.getElementById("noBtn"); let previousPosition = null, noClickCount = 0; const pinguImage = document.querySelector(".pingu-image"); function moveNoButton() { if (20 === ++noClickCount && (pinguImage.src = "https://media1.giphy.com/media/v1.Y2lkPTc5MGI3NjExdnRiaG0yN2szcnJqNmtmM2tuNDIwazR1OHh4bnl0M3NneGtjMng1YiZlcD12MV9pbnRlcm5hbF9naWZfYnlfaWQmY3Q9Zw/iDPv54rvXkkA8/giphy.gif"), 30 === noClickCount) { const t = document.getElementById("notAQuestion"); t.classList.add("show"), noBtn.classList.add("hidden"), void setTimeout(() => { yesBtn.classList.add("expanding"), setTimeout(() => { t.style.opacity = "0" }, 500) }, 1e3) } else { if (!noBtn.classList.contains("moving")) { noBtn.classList.add("moving"); var o = noBtn.getBoundingClientRect(); const r = document.querySelector(".content").getBoundingClientRect(); noBtn.style.left = o.left - r.left + "px", noBtn.style.top = o.top - r.top + "px" } const r = document.querySelector(".content").getBoundingClientRect(); noBtn.getBoundingClientRect(); var s = document.querySelector(".buttons-container").getBoundingClientRect(), a = r.width - 150, i = r.height - 100; let t, e, n = 0; for (; ;) { t = Math.random() * (a - 20) + 20, e = Math.random() * (i - 250) + 250, n++; var l = s.left - r.left, c = s.top - r.top, l = checkOverlap(t, e, 150, 80, l - 50, c - 20, 350, 120), c = previousPosition && Math.abs(t - previousPosition.x) < 50 && Math.abs(e - previousPosition.y) < 50; if (!l && !c) break; if (100 <= n) { t = Math.random() * (a - 20) + 20, e = 250 + 100 * Math.random(); break } } previousPosition = { x: t, y: e }, noBtn.style.left = t + "px", noBtn.style.top = e + "px" } } function checkOverlap(t, e, n, o, s, a, i, l) { return !(t + n < s || s + i < t || e + o < a || a + l < e) } function createFloatingHearts() { const e = document.querySelector(".hearts-background"), n = ["ðŸ’•", "ðŸ’–", "ðŸ’—", "ðŸ’“", "ðŸ’", "ðŸ’ž"]; setInterval(() => { const t = document.createElement("div"); t.textContent = n[Math.floor(Math.random() * n.length)], t.style.position = "absolute", t.style.left = 100 * Math.random() + "%", t.style.top = "-10%", t.style.fontSize = 2 * Math.random() + 1 + "rem", t.style.opacity = "0.3", t.style.animation = `float ${10 * Math.random() + 10}s linear forwards`, t.style.pointerEvents = "none", e.appendChild(t), setTimeout(() => { t.remove() }, 2e4) }, 2e3) } function createConfetti() { const e = ["#f093fb", "#f5576c", "#ffd700", "#ff69b4", "#ff1493"]; for (let t = 0; t < 100; t++)setTimeout(() => { const t = document.createElement("div"); t.style.position = "fixed", t.style.left = 100 * Math.random() + "%", t.style.top = "-10px", t.style.width = "10px", t.style.height = "10px", t.style.backgroundColor = e[Math.floor(Math.random() * e.length)], t.style.borderRadius = .5 < Math.random() ? "50%" : "0", t.style.pointerEvents = "none", t.style.zIndex = "1000", t.style.animation = `confettiFall ${3 * Math.random() + 2}s linear forwards`, document.body.appendChild(t), setTimeout(() => { t.remove() }, 5e3) }, 30 * t) } yesBtn.addEventListener("click", t => { yesBtn.classList.contains("expanding"), questionScreen.classList.remove("active"), successScreen.classList.add("active"), createConfetti() }), noBtn.addEventListener("mouseenter", moveNoButton), noBtn.addEventListener("click", t => { t.preventDefault(), moveNoButton() }), noBtn.addEventListener("touchstart", t => { t.preventDefault(), moveNoButton() }); const style = document.createElement("style"); style.textContent = `
    @keyframes confettiFall {
        to {
            transform: translateY(100vh) rotate(${360 * Math.random()}deg);
            opacity: 0;
        }
    }
`, document.head.appendChild(style), createFloatingHearts();